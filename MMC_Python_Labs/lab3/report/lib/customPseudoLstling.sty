\ProvidesPackage{customPseudoLstling}

\RequirePackage{color}
\RequirePackage{listings}
\RequirePackage{caption}
\RequirePackage{xparse}

% Define Language
\lstdefinelanguage{algorithm}
{
	morekeywords={
		input,output,return,datatype,function,in,if,else,foreach,while,begin,end,then,to,do,for,div,mod,array,int,of,declare,and,or,},
	sensitive=false,
	morecomment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]"
}

\lstset{
	language=algorithm,
	mathescape=true,
	frame=tB,
	backgroundcolor = \color{white},
	numbers=left, 
	numberstyle=\tiny,
	basicstyle=\scriptsize, 
	keywordstyle=\color{blue}\bfseries\em,
	numbers=left,
	xleftmargin=.04\textwidth,
	tabsize=4
}

\newcounter{nalg}
\renewcommand{\thenalg}{\arabic{nalg}}
\DeclareCaptionLabelFormat{algocaption}{\textbf{Algorithm \thenalg}}

\lstnewenvironment{algorithm}[1][]
{
	\refstepcounter{nalg}
	\captionsetup{labelformat=algocaption,labelsep=colon}
	\lstset{language=algorithm, #1}
}{}


% #1 file path
% #2 caption
% #3 label (no need to bother with this)

\DeclareDocumentCommand{\includeAlgFile}{m O{} O{alg\thenalg} O{}}
{
	\refstepcounter{nalg}
	\captionsetup{labelformat=algocaption,labelsep=colon}
	\lstset{language=algorithm, caption={#2}, label={#3}, #4}
	\lstinputlisting{#1}
}

% -Example:

% \begin{algorithm}[caption={Recursive method}, label={Fibonacci1}]
% function fib1(n)
% 	if n < 2 then
% 		return n
% 	else
% 		return fib1(n - 1) + fib1(n - 2)
% \end{algorithm}

% \includeAlgFile{./aux/mergeSort.pseudo}[Mergesort][alg1]