Assign to each trolleybus a big enough number, as tr_count;

for each trolleybus number as nb:
	while (number of trolleybusses is fine):
		Extract from tr_count[nb] one;
	Add to tr_count[nb] one;