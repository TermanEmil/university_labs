\ProvidesPackage{customCppLstling}

\RequirePackage{listings}
\RequirePackage{xcolor}
\RequirePackage{xparse}
\RequirePackage{caption}

\lstset{
	language=C++,
	frame=single,
	rulecolor=\color{gray},
	basicstyle=\fontsize{5}{5}\ttfamily,
	keywordstyle=\color{blue},
	stringstyle=\color{orange},
	commentstyle=\color{gray},
	extendedchars=true,
	keepspaces=true,
	numbers=left,
	numbersep=5pt,
	numberstyle=\color{gray},
	tabsize=4,
	morecomment=[l][\color{gray}]{\#}
}

\newcommand{\cppInLine}[1]
{
	{\lstinline[basicstyle=\small]|#1|}
}

\newcounter{nCppFileCout}
\DeclareCaptionLabelFormat{cppCaption}{\textbf{CPP \arabic{nCppFileCout}}}

% #1 file path
% #2 caption
% #3 label (no need to bother with this)

\DeclareDocumentCommand{\includeCPPFile}{m O{} O{cpp\arabic{nCppFileCout}} O{}}
{
	\refstepcounter{nCppFileCout}
	\captionsetup{labelformat=cppCaption,labelsep=colon}
	\lstset{language=C++, caption={#2}, label={#3}, #4}
	\lstinputlisting{#1}
}
